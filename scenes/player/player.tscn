[gd_scene load_steps=14 format=3 uid="uid://bro60eusjxrgn"]

[ext_resource type="Script" uid="uid://c5iywohsn6a7a" path="res://scripts/player/player.gd" id="1_8afob"]
[ext_resource type="Script" uid="uid://hfw2x4dqo8od" path="res://scripts/components/state machine/state_machine.gd" id="2_gmlin"]
[ext_resource type="Script" uid="uid://cgh7dud8js4l6" path="res://scripts/player/player state/states/player_ground_state.gd" id="3_lvxji"]
[ext_resource type="Script" uid="uid://c7hcwai3wka0l" path="res://scripts/player/player state/states/player_air_state.gd" id="4_lvxji"]
[ext_resource type="Script" uid="uid://c7ga5h60sov0f" path="res://scripts/player/player state/states/player_dash_state.gd" id="5_h17s1"]
[ext_resource type="Script" uid="uid://5i0ndfls3olj" path="res://scripts/components/movement/gravity.gd" id="5_p47bc"]
[ext_resource type="Script" uid="uid://b5xm35yv1b4y5" path="res://scripts/components/movement/side_movement_action.gd" id="6_75vfm"]
[ext_resource type="Script" uid="uid://cjvfh0742h8xw" path="res://scripts/player/player state/states/player_wall_state.gd" id="6_fm80t"]
[ext_resource type="Script" uid="uid://bsd5260km1pjq" path="res://scripts/components/movement/jump_action.gd" id="7_0owmy"]
[ext_resource type="Script" uid="uid://bdat73a1rvolc" path="res://scripts/components/movement/stop_jump_action.gd" id="8_qek5x"]
[ext_resource type="Script" uid="uid://h4io0iikjqmk" path="res://scripts/components/movement/air_jump_action.gd" id="9_5gtgg"]
[ext_resource type="Script" uid="uid://ydvnrumpiyfg" path="res://scripts/player/actions/player_dash_action.gd" id="11_je7p5"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_x7p2l"]
size = Vector2(64, 96)

[node name="Player" type="CharacterBody2D"]
collision_layer = 2
script = ExtResource("1_8afob")
gravity_force = 2000.0
max_fall_speed = 700.0
acceleration = 5000.0
friction = 2500.0
max_speed = 500.0

[node name="Polygon2D" type="Polygon2D" parent="."]
color = Color(0, 0, 1, 1)
polygon = PackedVector2Array(-32, -48, 32, -48, 32, 48, -32, 48)

[node name="Polygon2D2" type="Polygon2D" parent="."]
color = Color(0, 1, 0, 1)
polygon = PackedVector2Array(13, -38, 13, -25, 25, -31)

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
shape = SubResource("RectangleShape2D_x7p2l")

[node name="StateMachine" type="Node" parent="." node_paths=PackedStringArray("initial_state")]
script = ExtResource("2_gmlin")
initial_state = NodePath("Air")
metadata/_custom_type_script = "uid://hfw2x4dqo8od"

[node name="Air" type="Node" parent="StateMachine"]
script = ExtResource("4_lvxji")

[node name="Ground" type="Node" parent="StateMachine"]
script = ExtResource("3_lvxji")

[node name="Dash" type="Node" parent="StateMachine"]
script = ExtResource("5_h17s1")

[node name="Wall" type="Node" parent="StateMachine"]
script = ExtResource("6_fm80t")

[node name="Components" type="Node" parent="."]

[node name="Gravity" type="Node" parent="Components"]
script = ExtResource("5_p47bc")
metadata/_custom_type_script = "uid://5i0ndfls3olj"

[node name="SideMovementAction" type="Node" parent="Components"]
script = ExtResource("6_75vfm")
metadata/_custom_type_script = "uid://b5xm35yv1b4y5"

[node name="JumpAction" type="Node" parent="Components"]
script = ExtResource("7_0owmy")
jump_force = 850.0
metadata/_custom_type_script = "uid://bsd5260km1pjq"

[node name="StopJumpAction" type="Node" parent="Components"]
script = ExtResource("8_qek5x")
metadata/_custom_type_script = "uid://bdat73a1rvolc"

[node name="AirJumpAction" type="Node" parent="Components"]
script = ExtResource("9_5gtgg")
air_jump_force = 700.0
metadata/_custom_type_script = "uid://h4io0iikjqmk"

[node name="PlayerDashAction" type="Node" parent="Components"]
script = ExtResource("11_je7p5")
dash_force = 2000.0
dash_duration = 0.1
max_energy = 2
recharge_energy_time = 3.0
cooldown = 0.5
metadata/_custom_type_script = "uid://ydvnrumpiyfg"
